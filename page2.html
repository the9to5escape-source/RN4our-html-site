<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RN4our Trophy 2025 Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    body {
      background: linear-gradient(120deg, #1e3c72 0%, #2a5298 100%);
      font-family: 'Montserrat', 'Poppins', Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 420px;
      margin: 44px auto;
      background: #f6f8fa;
      border-radius: 22px;
      box-shadow: 0 6px 32px rgba(46,82,152,0.13);
      overflow: hidden;
    }
    .section {
      padding: 26px 22px 0 22px;
    }
    .section-title {
      background: linear-gradient(90deg,#0d6efd 50%, #5e60ce 100%);
      color: #fff;
      font-size: 1.16em;
      padding: 11px 22px;
      border-radius: 18px 18px 0 0;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
    }
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 4px;
      margin-top: 13px;
      color: #23406b;
    }
    .icon-input-group {
      display: flex;
      align-items: center;
      background: #eaf1fb;
      border-radius: 12px;
      border: 1px solid #bfcbe1;
      margin-bottom: 22px;
      padding-left: 6px;
    }
    .icon-input-group i {
      color: #3f51b5;
      margin-right: 10px;
      min-width: 20px;
      text-align: center;
    }
    .icon-input-group input,
    .icon-input-group select {
      border: none;
      background: transparent;
      width: 100%;
      padding: 10px 0;
      outline: none;
      font-size: 0.95em;
    }
    .required { color: #e63946; }
    .info { font-size: 0.95em; color: #3d4862; }
    .bold { font-weight: 700; color: #0d6efd; }
    .btn-row {
      display: flex;
      gap: 16px;
      margin: 26px 0 12px 0;
    }
    .btn {
      flex: 1;
      padding: 13px 0;
      border-radius: 11px;
      border: none;
      font-size: 1em;
      font-weight: 700;
      cursor: pointer;
    }
    .btn-back {
      background: linear-gradient(90deg,#5e60ce,#bfcbe1);
      color: #fff;
      text-decoration: none;
      text-align: center;
      line-height: 42px;
    }
    .btn-submit {
      background: linear-gradient(90deg,#0d6efd,#38b6ff);
      color: #fff;
    }
    .qr-section {
      background: #f3f6fd;
      border-radius: 16px;
      padding: 18px;
      text-align: center;
      margin-bottom: 18px;
    }
    .qr-img {
      width: 180px;
      height: 180px;
      margin-bottom: 12px;
      border-radius: 8px;
      background: #fff;
    }
    .file-error, .field-error {
      color: #e63946;
      font-size: 0.9em;
      display: none;
      margin-top: -10px;
      margin-bottom: 8px;
    }
    .footer {
      text-align: center;
      padding: 22px 14px;
      background: linear-gradient(120deg,#1e3c72,#2a5298);
      color: #fff;
      font-size: 0.95em;
    }
    .privacy-text {
      font-size: 0.8em;
      color: #dbe4ff;
      margin-top: 8px;
      line-height: 1.4;
    }
  </style>
</head>

<body>
<div class="container">
<form id="registrationForm">

<div class="section">
  <div class="section-title"><i class="fa-solid fa-user"></i> Personal Information</div>

  <label>First Name <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-solid fa-user"></i>
    <input type="text" id="fname" required>
  </div>

  <label>Last Name <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-solid fa-user"></i>
    <input type="text" id="lname" required>
  </div>

  <label>Contact Number (Cricheroes) <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-brands fa-whatsapp"></i>
    <input type="text" id="cricheroz" required>
  </div>
  <small id="cricheroz-error" class="field-error">Minimum 10 digits required.</small>

  <label>Village <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-solid fa-house"></i>
    <input type="text" id="village" required>
  </div>

  <label>City <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-solid fa-city"></i>
    <input type="text" id="taluka" required>
  </div>

  <label>Profile Photo <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-solid fa-camera"></i>
    <input type="file" id="profile" required>
  </div>
  <small id="profile-error" class="file-error">Max 1 MB allowed</small>
</div>

<div class="section">
  <div class="section-title"><i class="fa-solid fa-user-tag"></i> Player Role</div>
  <div class="icon-input-group">
    <i class="fa-solid fa-user-astronaut"></i>
    <select id="role" required>
      <option value="">Select Role</option>
      <option>Batsman</option>
      <option>Bowler</option>
      <option>Allrounder</option>
      <option>Wicketkeeper</option>
    </select>
  </div>
</div>

<div class="section">
  <div class="section-title"><i class="fa-solid fa-shirt"></i> Clothing</div>
  <div class="icon-input-group">
    <i class="fa-solid fa-shirt"></i>
    <select id="size" required>
      <option value="">T-shirt Size</option>
      <option>S</option><option>M</option><option>L</option>
      <option>XL</option><option>XXL</option><option>XXXL</option>
    </select>
  </div>

  <div class="icon-input-group">
    <i class="fa-solid fa-hashtag"></i>
    <input type="text" id="tshirtno" placeholder="T-shirt Number" required>
  </div>
</div>

<div class="section">
  <div class="section-title"><i class="fa-solid fa-qrcode"></i> Payment</div>

  <div class="qr-section">
    <div class="bold">Pay ₹500 via UPI</div><br>
    <img class="qr-img" src="https://i.postimg.cc/yN4pvR9x/53fd1c96-e2a4-47a0-a7e7-d3b5e9cd9bb1.jpg">
    <div class="info">UPI ID: nirav.patel.00200-1@okaxis</div>
  </div>

  <label>Upload Payment Screenshot <span class="required">*</span></label>
  <div class="icon-input-group">
    <i class="fa-solid fa-receipt"></i>
    <input type="file" id="paymentss" required>
  </div>
  <small id="paymentss-error" class="file-error">Max 1 MB allowed</small>

  <div class="btn-row">
    <a href="page1.html" class="btn btn-back">← Back</a>
    <button type="submit" class="btn btn-submit">Submit</button>
  </div>
</div>

</form>

<div class="footer">
  Designed by <b>RN4OUR CRICKET</b>
  <div class="privacy-text">
    Privacy Policy: We collect basic registration details and payment proof only for tournament participation and verification.
    Your information is used strictly for RN4our Trophy 2025 and is not shared with any third party.
  </div>
</div>
</div>

<script>
const webAppUrl = "https://script.google.com/macros/s/AKfycbw6swVcNDHFq-psXAwhuZzi1YcDROnZ5YWPwRCkseI85hGLc_7_aTjWw8gXXgWuiO6oBw/exec";

function generateUniqueID() {
  return 'RN2025' + Date.now().toString().slice(-6) + Math.floor(100 + Math.random() * 900);
}

function checkSize(id, err) {
  const f = document.getElementById(id);
  const e = document.getElementById(err);
  f.addEventListener('change', () => {
    if (f.files[0] && f.files[0].size > 1024 * 1024) {
      e.style.display = 'block';
      f.value = '';
    } else e.style.display = 'none';
  });
}

checkSize('profile','profile-error');
checkSize('paymentss','paymentss-error');

document.getElementById('registrationForm').addEventListener('submit', async e => {
  e.preventDefault();

  const cr = document.getElementById('cricheroz').value.trim();
  if (cr.length < 10) {
    document.getElementById('cricheroz-error').style.display = 'block';
    return;
  }

  Swal.fire({title:'Processing...',allowOutsideClick:false,showConfirmButton:false});

  const toBase64 = f => new Promise(r=>{
    const rd=new FileReader(); rd.onload=()=>r(rd.result); rd.readAsDataURL(f);
  });

  const payload = new URLSearchParams({
    uniqueID: generateUniqueID(),
    fname: fname.value,
    lname: lname.value,
    cricheroz: cr,
    village: village.value,
    taluka: taluka.value,
    role: role.value,
    size: size.value,
    tshirtno: tshirtno.value,
    profile: await toBase64(profile.files[0]),
    paymentss: await toBase64(paymentss.files[0])
  });

  fetch(webAppUrl,{method:'POST',body:payload})
  .then(()=>Swal.fire('Success','Registration Submitted','success'))
  .then(()=>registrationForm.reset())
  .catch(()=>Swal.fire('Error','Try again','error'));
});
</script>
</body>
</html>
